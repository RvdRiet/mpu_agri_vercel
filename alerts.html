<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#2d5a27">
  <title>Farming Alerts — Mpumalanga AgriSupport</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="nav.css">
  <style>
    .alerts-toolbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: var(--space-4);
      margin-bottom: var(--space-8);
    }
    .alerts-toolbar__status {
      font-size: var(--text-sm);
      color: var(--color-text-muted);
    }
    .alerts-toolbar__status .dot {
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--color-success);
      margin-right: 6px;
      vertical-align: middle;
    }
    .alerts-toolbar__status .dot--error {
      background: var(--color-danger);
    }
    .alerts-toolbar__status .dot--loading {
      background: var(--color-warning);
      animation: pulse-dot 1.2s infinite;
    }
    @keyframes pulse-dot {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }

    .filter-pills {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-2);
    }
    .filter-pill {
      padding: var(--space-2) var(--space-4);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-full);
      background: var(--color-white);
      color: var(--color-text-secondary);
      font-size: var(--text-sm);
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }
    .filter-pill:hover {
      border-color: var(--color-primary);
      color: var(--color-primary);
    }
    .filter-pill.active {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: var(--color-white);
    }
    .filter-pill .filter-count {
      display: inline-block;
      min-width: 20px;
      padding: 1px 6px;
      border-radius: var(--radius-full);
      background: rgba(0,0,0,0.08);
      font-size: 11px;
      text-align: center;
      margin-left: 4px;
    }
    .filter-pill.active .filter-count {
      background: rgba(255,255,255,0.25);
    }
    .filter-pill--mp {
      border-color: #1565c0;
      color: #1565c0;
      font-weight: 600;
    }
    .filter-pill--mp:hover {
      background: #e3f2fd;
    }
    .filter-pill--mp.active {
      background: #1565c0;
      border-color: #1565c0;
      color: var(--color-white);
    }

    .alert-card {
      background: var(--color-white);
      border: 1px solid var(--color-border-light);
      border-radius: var(--radius-lg);
      padding: var(--space-6);
      transition: box-shadow 0.2s, border-color 0.2s;
      display: flex;
      flex-direction: column;
    }
    .alert-card:hover {
      box-shadow: var(--shadow-md);
      border-color: var(--color-border);
    }
    .alert-card__header {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      margin-bottom: var(--space-3);
      flex-wrap: wrap;
    }
    .alert-card__source {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 2px 10px;
      border-radius: var(--radius-full);
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .alert-card__source--fw {
      background: #e8f5e9;
      color: #2e7d32;
    }
    .alert-card__source--ffm {
      background: #fff3e0;
      color: #e65100;
    }
    .alert-card__source--af {
      background: #e3f2fd;
      color: #1565c0;
    }
    .alert-card__source--ndmc {
      background: #f3e5f5;
      color: #6a1b9a;
    }
    .alert-card__source--wof {
      background: #ffebee;
      color: #c62828;
    }
    .alert-card__category {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 2px 10px;
      border-radius: var(--radius-full);
      font-size: 11px;
      font-weight: 600;
    }
    .alert-card__category--crop {
      background: #f1f8e9;
      color: #558b2f;
    }
    .alert-card__category--livestock {
      background: #fce4ec;
      color: #c62828;
    }
    .alert-card__category--disease {
      background: #fff8e1;
      color: #f57f17;
    }
    .alert-card__category--weather {
      background: #e0f7fa;
      color: #00838f;
    }
    .alert-card__category--general {
      background: #f3e5f5;
      color: #7b1fa2;
    }
    .alert-card__category--mpumalanga {
      background: #e3f2fd;
      color: #1565c0;
      font-weight: 700;
    }
    .alert-card__date {
      font-size: var(--text-xs);
      color: var(--color-text-muted);
      margin-left: auto;
    }
    .alert-card__title {
      font-size: var(--text-lg);
      font-weight: 700;
      color: var(--color-text);
      margin-bottom: var(--space-2);
      line-height: 1.3;
    }
    .alert-card__title a {
      color: inherit;
      text-decoration: none;
    }
    .alert-card__title a:hover {
      color: var(--color-primary);
    }
    .alert-card__snippet {
      font-size: var(--text-sm);
      color: var(--color-text-secondary);
      line-height: 1.6;
      margin-bottom: var(--space-4);
      flex: 1;
    }
    .alert-card__footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--space-3);
      padding-top: var(--space-4);
      border-top: 1px solid var(--color-border-light);
    }
    .alert-card__read-more {
      font-size: var(--text-sm);
      font-weight: 600;
      color: var(--color-primary);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    .alert-card__read-more:hover {
      color: var(--color-primary-dark);
      text-decoration: underline;
    }
    .alert-card__attribution {
      font-size: 11px;
      color: var(--color-text-muted);
      font-style: italic;
    }

    .alerts-grid {
      display: grid;
      gap: var(--space-6);
    }
    @media (min-width: 768px) {
      .alerts-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .alerts-loading {
      text-align: center;
      padding: var(--space-16) var(--space-4);
    }
    .alerts-loading__spinner {
      width: 48px;
      height: 48px;
      border: 4px solid var(--color-border-light);
      border-top-color: var(--color-primary);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
      margin: 0 auto var(--space-4);
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .alerts-loading__text {
      color: var(--color-text-muted);
      font-size: var(--text-sm);
    }

    .alerts-empty {
      text-align: center;
      padding: var(--space-16) var(--space-4);
      color: var(--color-text-muted);
    }
    .alerts-empty__icon {
      font-size: 48px;
      margin-bottom: var(--space-4);
    }

    .alerts-error {
      text-align: center;
      padding: var(--space-8);
      background: #fff3e0;
      border: 1px solid #ffe0b2;
      border-radius: var(--radius-lg);
      color: #e65100;
    }
    .alerts-error__retry {
      margin-top: var(--space-4);
    }

    .source-attribution {
      margin-top: var(--space-10);
      padding: var(--space-6);
      background: var(--color-surface);
      border: 1px solid var(--color-border-light);
      border-radius: var(--radius-lg);
    }
    .source-attribution h3 {
      font-size: var(--text-base);
      font-weight: 700;
      margin-bottom: var(--space-3);
      color: var(--color-text);
    }
    .source-attribution p {
      font-size: var(--text-sm);
      color: var(--color-text-secondary);
      line-height: 1.6;
      margin-bottom: var(--space-2);
    }
    .source-attribution a {
      color: var(--color-primary);
    }

    .keyword-search {
      position: relative;
      max-width: 340px;
      width: 100%;
    }
    .keyword-search__input {
      width: 100%;
      padding: var(--space-2) var(--space-4);
      padding-left: 36px;
      border: 1px solid var(--color-border);
      border-radius: var(--radius-full);
      font-size: var(--text-sm);
      font-family: inherit;
      background: var(--color-white);
      transition: border-color 0.2s;
    }
    .keyword-search__input:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(45,90,39,0.1);
    }
    .keyword-search__icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 14px;
      color: var(--color-text-muted);
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div class="page-wrapper">

    <nav class="site-nav" role="navigation" aria-label="Main navigation">
      <div class="site-nav__inner">
        <a href="index.html" class="site-nav__brand">
          <span class="site-nav__logo" aria-hidden="true">MP</span>
          <span class="site-nav__brand-text">
            <span class="site-nav__brand-name">Mpumalanga AgriSupport</span>
            <span class="site-nav__brand-sub">Decision Support System</span>
          </span>
        </a>
        <div class="site-nav__links">
          <div class="nav-item"><a href="index.html" class="nav-link">Home</a></div>
          <div class="nav-item">
            <button class="nav-link" type="button" aria-expanded="false">Programmes <span class="nav-link__arrow" aria-hidden="true">&#9660;</span></button>
            <div class="nav-dropdown" role="menu">
              <a href="crop.html" class="nav-dropdown__link" role="menuitem"><span class="nav-dropdown__icon">&#127806;</span><span class="nav-dropdown__text"><span class="nav-dropdown__label">Crop Management</span><span class="nav-dropdown__desc">Crop farming support &amp; grants</span></span></a>
              <a href="livestock.html" class="nav-dropdown__link" role="menuitem"><span class="nav-dropdown__icon">&#128004;</span><span class="nav-dropdown__text"><span class="nav-dropdown__label">Livestock Management</span><span class="nav-dropdown__desc">Livestock development &amp; grants</span></span></a>
              <a href="environmental.html" class="nav-dropdown__link" role="menuitem"><span class="nav-dropdown__icon">&#127795;</span><span class="nav-dropdown__text"><span class="nav-dropdown__label">Environmental Enrichment</span><span class="nav-dropdown__desc">Conservation &amp; sustainability</span></span></a>
            </div>
          </div>
          <div class="nav-item"><a href="weather.html" class="nav-link">Weather</a></div>
          <div class="nav-item"><a href="alerts.html" class="nav-link active">Alerts</a></div>
          <div class="nav-item"><a href="guides.html" class="nav-link">Guides</a></div>
          <div class="nav-item"><a href="support.html" class="nav-link">Support</a></div>
          <div class="nav-item">
            <button class="nav-link" type="button" aria-expanded="false">Apply <span class="nav-link__arrow" aria-hidden="true">&#9660;</span></button>
            <div class="nav-dropdown" role="menu">
              <a href="Application/crop.html" class="nav-dropdown__link" role="menuitem"><span class="nav-dropdown__icon">&#128196;</span><span class="nav-dropdown__text"><span class="nav-dropdown__label">Crop Grant</span><span class="nav-dropdown__desc">Apply for crop development support</span></span></a>
              <a href="Application/index.html" class="nav-dropdown__link" role="menuitem"><span class="nav-dropdown__icon">&#128196;</span><span class="nav-dropdown__text"><span class="nav-dropdown__label">Livestock Grant</span><span class="nav-dropdown__desc">Masibuyele Esibayeni Programme</span></span></a>
              <a href="Application/environmental.html" class="nav-dropdown__link" role="menuitem"><span class="nav-dropdown__icon">&#128196;</span><span class="nav-dropdown__text"><span class="nav-dropdown__label">Environmental Grant</span><span class="nav-dropdown__desc">Conservation &amp; enrichment funding</span></span></a>
              <div class="nav-dropdown__divider"></div>
              <a href="track.html" class="nav-dropdown__link" role="menuitem"><span class="nav-dropdown__icon">&#128269;</span><span class="nav-dropdown__text"><span class="nav-dropdown__label">Track Application</span><span class="nav-dropdown__desc">Check your application status</span></span></a>
            </div>
          </div>
        </div>
        <div class="site-nav__actions">
          <a href="login.html" class="nav-link">Login</a>
          <a href="register.html" class="nav-cta">Register</a>
        </div>
        <button class="nav-toggle" id="navToggle" type="button" aria-label="Toggle menu" aria-expanded="false"><span class="nav-toggle__bar"></span></button>
      </div>
      <div class="site-nav__mobile" id="mobileNav">
        <div class="mobile-nav__section"><div class="mobile-nav__heading">Navigation</div><a href="index.html" class="mobile-nav__link"><span class="mobile-nav__icon">&#127968;</span> Home</a><a href="weather.html" class="mobile-nav__link"><span class="mobile-nav__icon">&#9925;</span> Weather</a><a href="alerts.html" class="mobile-nav__link active"><span class="mobile-nav__icon">&#9888;</span> Alerts</a><a href="guides.html" class="mobile-nav__link"><span class="mobile-nav__icon">&#128214;</span> Guides</a><a href="support.html" class="mobile-nav__link"><span class="mobile-nav__icon">&#128222;</span> Support</a></div>
        <div class="mobile-nav__section"><div class="mobile-nav__heading">Programmes</div><a href="crop.html" class="mobile-nav__link"><span class="mobile-nav__icon">&#127806;</span> Crop Management</a><a href="livestock.html" class="mobile-nav__link"><span class="mobile-nav__icon">&#128004;</span> Livestock Management</a><a href="environmental.html" class="mobile-nav__link"><span class="mobile-nav__icon">&#127795;</span> Environmental Enrichment</a></div>
        <div class="mobile-nav__section"><div class="mobile-nav__heading">Applications</div><a href="Application/crop.html" class="mobile-nav__link"><span class="mobile-nav__icon">&#128196;</span> Crop Grant Application</a><a href="Application/index.html" class="mobile-nav__link"><span class="mobile-nav__icon">&#128196;</span> Livestock Grant Application</a><a href="Application/environmental.html" class="mobile-nav__link"><span class="mobile-nav__icon">&#128196;</span> Environmental Grant Application</a><a href="track.html" class="mobile-nav__link"><span class="mobile-nav__icon">&#128269;</span> Track Application</a></div>
        <div class="mobile-nav__actions"><a href="login.html" class="btn btn--secondary btn--block">Login</a><a href="register.html" class="btn btn--primary btn--block">Register</a></div>
      </div>
      <div class="mobile-nav-overlay" id="mobileOverlay"></div>
    </nav>

    <main>
      <div class="page-header">
        <div class="container">
          <div class="breadcrumbs" style="color:rgba(255,255,255,0.6);">
            <a href="index.html" style="color:rgba(255,255,255,0.7);">Home</a>
            <span class="breadcrumbs__sep">&#8250;</span>
            <span class="breadcrumbs__current" style="color:#fff;">Farming Alerts</span>
          </div>
          <h1 class="page-header__title">Farming Alerts &amp; Risk Events</h1>
          <p class="page-header__subtitle">Live updates on high-risk events, disease outbreaks, pest warnings, weather impacts, and important farming news from trusted South African agricultural sources.</p>
        </div>
      </div>

      <section class="section">
        <div class="container">

          <div class="alerts-toolbar">
            <div class="filter-pills" id="filterPills">
              <button class="filter-pill active" data-filter="all">All <span class="filter-count" id="count-all">0</span></button>
              <button class="filter-pill filter-pill--mp" data-filter="mpumalanga">&#128205; Mpumalanga <span class="filter-count" id="count-mpumalanga">0</span></button>
              <button class="filter-pill" data-filter="crop">&#127806; Crop <span class="filter-count" id="count-crop">0</span></button>
              <button class="filter-pill" data-filter="livestock">&#128004; Livestock <span class="filter-count" id="count-livestock">0</span></button>
              <button class="filter-pill" data-filter="disease">&#9888; Disease &amp; Pest <span class="filter-count" id="count-disease">0</span></button>
              <button class="filter-pill" data-filter="weather">&#127782; Weather &amp; Climate <span class="filter-count" id="count-weather">0</span></button>
              <button class="filter-pill" data-filter="general">&#128240; General <span class="filter-count" id="count-general">0</span></button>
            </div>
            <div style="display:flex;align-items:center;gap:var(--space-4);flex-wrap:wrap;">
              <div class="keyword-search">
                <span class="keyword-search__icon">&#128270;</span>
                <input type="text" class="keyword-search__input" id="searchInput" placeholder="Search alerts..." aria-label="Search alerts">
              </div>
              <div class="alerts-toolbar__status" id="feedStatus">
                <span class="dot dot--loading"></span> Loading feeds...
              </div>
            </div>
          </div>

          <div id="alertsContainer">
            <div class="alerts-loading" id="alertsLoading">
              <div class="alerts-loading__spinner"></div>
              <p class="alerts-loading__text">Fetching latest farming news from Farmer's Weekly, Food For Mzansi, and African Farming...</p>
            </div>
          </div>

          <div class="source-attribution">
            <h3>Content Sources &amp; Attribution</h3>
            <p>All articles are sourced from the following trusted South African agricultural publications. We display headlines and brief summaries with links to the original articles. All copyright remains with the original publishers.</p>
            <p><strong>Farmer's Weekly SA</strong> — South Africa's leading agricultural publication since 1911. <a href="https://www.farmersweekly.co.za" target="_blank" rel="noopener">farmersweekly.co.za</a></p>
            <p><strong>Food For Mzansi</strong> — Telling the story of the new face of agriculture in South Africa. <a href="https://www.foodformzansi.co.za" target="_blank" rel="noopener">foodformzansi.co.za</a></p>
            <p><strong>African Farming</strong> — Agricultural news and analysis for African producers. <a href="https://www.africanfarming.com" target="_blank" rel="noopener">africanfarming.com</a></p>
            <p><strong>National Disaster Management Centre</strong> — Official disaster and emergency alerts for South Africa. <a href="https://www.ndmc.gov.za" target="_blank" rel="noopener">ndmc.gov.za</a></p>
            <p><strong>Working on Fire</strong> — Wildfire awareness and firefighting updates. <a href="https://workingonfire.org" target="_blank" rel="noopener">workingonfire.org</a></p>
            <p style="margin-top:var(--space-3);font-size:12px;color:var(--color-text-muted);">Content is fetched via RSS feeds and displayed under fair use principles. Headlines and brief excerpts are shown with full attribution and direct links to source articles. No full article text is reproduced.</p>
          </div>

        </div>
      </section>

      <section class="section section--sm">
        <div class="container">
          <div class="cta-banner">
            <h2 class="cta-banner__title">Stay Prepared</h2>
            <p class="cta-banner__text">Use our weather dashboard and advisory guides alongside these alerts to make informed decisions for your farm.</p>
            <div style="display:flex;gap:var(--space-4);justify-content:center;flex-wrap:wrap;">
              <a href="weather.html" class="btn btn--white">Weather Dashboard</a>
              <a href="guides.html" class="btn btn--white">Advisory Guides</a>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="footer__top"><div class="container"><div class="footer__grid">
        <div><p class="footer__brand-name">Mpumalanga AgriSupport</p><p class="footer__brand-text">Agricultural Decision Support System for the Mpumalanga Department of Agriculture.</p></div>
        <div><h4 class="footer__heading">Programmes</h4><div class="footer__links"><a href="crop.html">Crop Management</a><a href="livestock.html">Livestock Management</a><a href="environmental.html">Environmental Enrichment</a></div></div>
        <div><h4 class="footer__heading">Resources</h4><div class="footer__links"><a href="weather.html">Weather Data</a><a href="alerts.html">Farming Alerts</a><a href="guides.html">Advisory Guides</a><a href="support.html">Support Contacts</a><a href="track.html">Track Application</a></div></div>
        <div><h4 class="footer__heading">Legal</h4><div class="footer__links"><a href="popia.html">POPIA Compliance</a><a href="terms.html">Terms of Service</a><a href="staff-login.html">Staff Portal</a></div></div>
      </div></div></div>
      <div class="footer__bottom"><div class="container"><div class="footer__bottom-inner"><span>&copy; 2025 Mpumalanga Department of Agriculture. All rights reserved.</span><div class="footer__bottom-links"><a href="popia.html">Privacy</a><a href="terms.html">Terms</a></div></div></div></div>
    </footer>
  </div>

  <script src="js/nav.js"></script>
  <script src="js/alerts.js"></script>
</body>
</html>
